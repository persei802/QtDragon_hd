<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>QtDragon Documentation</title>
  <link href="help.css" rel="stylesheet">
</head>
<body>
<h2>ADDING CUSTOM PANELS</h2>
<p>Custom panels can be added to the UTILS tab by adding an entry in the utils.xml file in the lib directory. Utilities are typically
custom widgets that can be created progammatically with python or graphically with QtDesigner. In either case, some python support 
software will be required.</p>
<h3>Adding new section to utils.xml</h3>
<p>Example code to insert a custom widget (panel) is:</p>
<div class='code-block'>
	<ul class='no-bullets'>
    <li>&lt;util&gt;</li>
    <ul class='no-bullets'>
        <li>&lt;module&gt;custom_panel&lt;/module&gt;</li>
        <li>&lt;class&gt;Custom_Panel&lt;/class&gt;</li>
        <li>&lt;name&gt;CUSTOM PANEL&lt;/name&gt;</li>
    </ul>
    <li>&lt;/util&gt;</li>
    </ul>
</div>
<p>The module line is the name of the custom modules python file, without the .py extension. It must be located in the utils folder.</p>
<p>The class line is the name of the class within the the module that needs to be imported.</p>
<p>The name line is the text that will appear in the UTILS combobox.</p>
<p>The names in the UTILS combobox of the QtDragon UI are created in the order that they appear in the utils.xml file.</p>
<p>The setup_utils.py module provides several instances of utilities added to QtDragon that can be used as a guide.
It is also responsible for displaying the modules help file, if there is one. The custom module would
call the show_help_page function of the setup_utils.py program and pass it a path to the help file.</p>
<h3>Getting references to the widgets and handler file</h3>
When the custom module is instantiated, it's __init__ function is passed a reference to the setup_utils module, which contains references to the 
widgets and handler modules. For the custom module to get these references, it must contain the following code:
<div class='code-block'>
	<ul class='no-bullets'>
    <li>self.parent = parent</li>
    <li>self.w = self.parent.w</li>
    <li>self.h = self.parent.parent</li>
    </ul>
</div>
<p>self.parent is a reference to the setup_utils object</p>
<p>self.w is a reference to the QtDragon widgets</p>
<p>self.h is a reference to the QtDragon handler to get access to any required methods, such as adding status messages.</p>
</body>
</html>
